\addcontentsline{toc}{chapter}{Appendices}

\chapter{DDPG Algorithm using the FM-policy Architecture}
\label{app:ddpgfm}

% The \appendix command resets the chapter counter, and changes the chapter numbering scheme to capital letters.
%\chapter{Appendices}
\appendix
\chapter{Transition probability Matrix algorithm}
\label{app:trans_prob_alg}

\begin{center}
 \begin{algorithm}[!htbp]
%    \SetAlgoLined
    \DontPrintSemicolon
    \caption{Transition Probability Matrix(R)}
    \label{alg:transition_matrix}
    
    \KwInput{$R$: Initial User Rating Matrix}
    \KwResult{$\mathcal{P}$: Transition Probability Matrix}
    %$\textbf{e} \leftarrow trigger\_candidate(\textbf{x})$\;
    $S \leftarrow ComputeCosineSimilarityMatrix(R)$\;
    \For{$i \leftarrow 1$ \KwTo $m$}{ 
        $sum \leftarrow \sum^{m}_{j=1} S_{ij}$\;
    \For{$j \leftarrow 1$ \KwTo $m$}{
    \tcc{user walks through a direct neighborith probability $\beta$ or jumps to an arbitrary item with uniform probability}
    $\mathcal{P}_{ij} \leftarrow \beta S_{ij} / sum + (1 - \beta) / m$\;
    }
    }
    \KwRet $\mathcal{P}$
  \end{algorithm}
%\end{minipage}
\end{center}

\chapter{Recommender System Simulated Environment}
\label{app:simulated_env}

\begin{center}
 \begin{algorithm}[!htbp]
    \SetAlgoVlined
    \DontPrintSemicolon
    \caption{Simulated environment}
    \label{alg:simulated_env}

    \KwInput{$R$: Ratings Matrix; $\mathcal{P}$: Transition Prob. Matrix; $\mathcal{I}$: Items set\;}
%    \KwResult{$\textbf{s}(\textbf{e}, \textbf{a}; \textbf{x}, \boldsymbol{\lambda})$}
    
    \tcc{selects an active user}
    $u_{random} \leftarrow selectRandomUser(R)$\;
    \tcc{initial guided exploration}
    $state \leftarrow selectLikelyItem(\mathcal{I}, u_{random})$\;
    $term \leftarrow False$\;
    \While{$not$ $term$}{
    	$action \leftarrow waitForAgentAction()$\;
	\tcc{probability of choosing action given current state}
	$\rho_{action} = \leftarrow computeTransition(\mathcal{P}, state, action)$\;
	$rating \leftarrow getUserRating(u_{random}, action)$\;
	\tcc{get the mean and std dev of the transition probability distr. for a given state}
	$\mu, \sigma \leftarrow transProbDistribution(\mathcal{P}, state)$\;
	$is\_chosen \leftarrow \rho_{action} < random.normal(\mu, \sigma) \&\& rating > 0$\;
	\eIf{$is\_chosen$}{
		$\rho_{end} \leftarrow 0.1$\;
		$reward \leftarrow rating$\;
	}{
		$\rho_{end} \leftarrow 0.2$\;
		$reward \leftarrow 0$\;
		$action \leftarrow selectRandomItem(u_{random})$\;
	}
	$state \leftarrow action$\;
	\If{$random.uniform() < \rho_{end}$}{
		$term \leftarrow True$\;
	}
	$sendSignalToAgent(state, reward, term)$\;
    }
  \end{algorithm}
\end{center}

%\chapter{Colophon}
%\label{appendixlabel3}
%\textit{This is a description of the tools you used to make your thesis. It helps people make future documents, reminds you, and looks good.}
%
%\textit{(example)} This document was set in the Times Roman typeface using \LaTeX\ and Bib\TeX , composed with a text editor. 
 % description of document, e.g. type faces, TeX used, TeXmaker, packages and things used for figures. Like a computational details section.
% e.g. http://tex.stackexchange.com/questions/63468/what-is-best-way-to-mention-that-a-document-has-been-typeset-with-tex#63503

% Side note:
%http://tex.stackexchange.com/questions/1319/showcase-of-beautiful-typography-done-in-tex-friends